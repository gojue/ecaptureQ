# ecaptureQ

ä¸€ä¸ªåŸºäº Tauri + React + TypeScript æ„å»ºçš„è·¨å¹³å°ç½‘ç»œæ•°æ®åŒ…æ•è·å’Œåˆ†æå·¥å…·ï¼Œæ”¯æŒæ¡Œé¢ç«¯ï¼ˆLinuxï¼‰å’Œç§»åŠ¨ç«¯ï¼ˆAndroidï¼‰
ç›®å‰åœ¨æ„å»ºä¸­

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ **å®æ—¶æ•°æ®åŒ…ç›‘æ§** - é€šè¿‡ WebSocket å®æ—¶æ¥æ”¶å’Œæ˜¾ç¤º HTTP æ•°æ®åŒ…
- ğŸ“± **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒ Linux æ¡Œé¢å¹³å°å’Œ Android ç§»åŠ¨å¹³å°
- ğŸ¨ **ç°ä»£åŒ– UI** - åŸºäº Tailwind CSS çš„å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæš—é»‘æ¨¡å¼
- ğŸ”§ **å¯é…ç½®è®¾ç½®** - çµæ´»çš„é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬ WebSocket è¿æ¥ã€æ˜¾ç¤ºè®¾ç½®ç­‰
- ğŸ“Š **è¯¦ç»†åˆ†æ** - æ”¯æŒæŸ¥çœ‹è¯·æ±‚/å“åº”è¯¦æƒ…ã€Headersã€Body ç­‰ä¿¡æ¯
- ğŸš€ **é«˜æ€§èƒ½** - Rust åç«¯ + React å‰ç«¯ï¼Œä¿è¯æµç•…çš„ç”¨æˆ·ä½“éªŒ

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **Vite** - å¿«é€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·
- **Lucide React** - ç°ä»£åŒ–å›¾æ ‡åº“

### åç«¯æŠ€æœ¯æ ˆ
- **Tauri 2.x** - è·¨å¹³å°åº”ç”¨ç¨‹åºæ¡†æ¶
- **Rust** - ç³»ç»Ÿçº§ç¼–ç¨‹è¯­è¨€ï¼Œä¿è¯æ€§èƒ½å’Œå®‰å…¨æ€§
- **WebSocket** - å®æ—¶æ•°æ®ä¼ è¾“

### æ ¸å¿ƒç»„ä»¶
```
src/
â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ ConnectionStatus.tsx    # è¿æ¥çŠ¶æ€æ˜¾ç¤º
â”‚   â”œâ”€â”€ PacketCard.tsx         # æ•°æ®åŒ…å¡ç‰‡
â”‚   â”œâ”€â”€ PacketDetailModal.tsx  # æ•°æ®åŒ…è¯¦æƒ…å¼¹çª—
â”‚   â””â”€â”€ PacketList.tsx         # æ•°æ®åŒ…åˆ—è¡¨
â”œâ”€â”€ windows/            # çª—å£ç»„ä»¶
â”‚   â”œâ”€â”€ MainWindow.tsx         # ä¸»çª—å£
â”‚   â””â”€â”€ SettingsWindow.tsx     # è®¾ç½®çª—å£
â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â””â”€â”€ websocketService.ts    # WebSocket æœåŠ¡
â”œâ”€â”€ hooks/              # React Hooks
â”‚   â””â”€â”€ useConfig.ts           # é…ç½®ç®¡ç†
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
    â””â”€â”€ httpParser.ts          # HTTP è§£æå·¥å…·
```

## å¼€å‘ç¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **Node.js** >= 18.0.0
- **Rust** >= 1.77.0 (é€šè¿‡ [rustup](https://rustup.rs/) å®‰è£…)
- **PNPM** >= 8.0.0 (æ¨è) æˆ– npm/yarn

### ç§»åŠ¨ç«¯å¼€å‘é¢å¤–è¦æ±‚
- **Android Studio** (ç”¨äº Android å¼€å‘)
- **Java JDK** >= 11

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd ecaptureQ
```

### 2. å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨ PNPM (æ¨è)
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install
```

### 3. å¼€å‘æ¨¡å¼

#### æ¡Œé¢ç«¯å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm tauri dev

# æˆ–è€…åˆ†æ­¥å¯åŠ¨
pnpm dev          # å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm tauri dev    # å¯åŠ¨ Tauri åº”ç”¨
```

#### Android å¼€å‘
```bash
# é¦–æ¬¡è¿è¡Œéœ€è¦åˆå§‹åŒ– Android é¡¹ç›®
pnpm tauri android init

# å¯åŠ¨ Android å¼€å‘æ¨¡å¼
pnpm tauri android dev
```

### 4. ç”Ÿäº§æ„å»º

#### æ¡Œé¢ç«¯æ„å»º
```bash
# æ„å»ºæ¡Œé¢åº”ç”¨
pnpm tauri build
```
æ„å»ºäº§ç‰©ä½äº `src-tauri/target/release/bundle/` ç›®å½•ä¸‹ã€‚

#### Android æ„å»º
```bash
# æ„å»º Android APK (Debug)
pnpm tauri android build

# æ„å»º Android APK (Release)
pnpm tauri android build --release
```
APK æ–‡ä»¶ä½äº `src-tauri/gen/android/app/build/outputs/apk/` ç›®å½•ä¸‹ã€‚

## é…ç½®è¯´æ˜

### WebSocket è¿æ¥
åº”ç”¨é€šè¿‡ WebSocket è¿æ¥æ¥æ”¶æ•°æ®åŒ…æ•°æ®ã€‚é»˜è®¤é…ç½®ï¼š
- **å¼€å‘ç¯å¢ƒ**: `ws://localhost:8080/packets`
- **ç”Ÿäº§ç¯å¢ƒ**: æ ¹æ®å®é™…éƒ¨ç½²æƒ…å†µé…ç½®

### é…ç½®é¡¹
- `websocketUrl`: WebSocket æœåŠ¡å™¨åœ°å€
- `autoScroll`: æ˜¯å¦è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ•°æ®åŒ…
- `showTimestamp`: æ˜¯å¦æ˜¾ç¤ºæ—¶é—´æˆ³
- `maxPackets`: æœ€å¤§ä¿å­˜çš„æ•°æ®åŒ…æ•°é‡
- `filterEnabled`: æ˜¯å¦å¯ç”¨è¿‡æ»¤å™¨

## é¡¹ç›®ç»“æ„è¯´æ˜

### å‰ç«¯è·¯ç”±
- **ä¸»ç•Œé¢**: æ˜¾ç¤ºæ•°æ®åŒ…åˆ—è¡¨å’Œè¿æ¥çŠ¶æ€
- **è®¾ç½®ç•Œé¢**: åº”ç”¨é…ç½®ç®¡ç†
- **ç§»åŠ¨ç«¯**: ä½¿ç”¨ Hash è·¯ç”±å®ç°å•é¡µé¢åº”ç”¨

### æ•°æ®æµ
1. WebSocket æœåŠ¡æ¥æ”¶ç½‘ç»œæ•°æ®åŒ…
2. æ•°æ®é€šè¿‡ WebSocket ä¼ è¾“åˆ°å‰ç«¯
3. React ç»„ä»¶å®æ—¶æ›´æ–°æ˜¾ç¤º
4. ç”¨æˆ·å¯ä»¥æŸ¥çœ‹è¯¦æƒ…ã€é…ç½®è®¾ç½®ç­‰

## å¼€å‘è¯´æ˜

### æ ·å¼ç³»ç»Ÿ
é¡¹ç›®ä½¿ç”¨ Tailwind CSSï¼Œæ”¯æŒå“åº”å¼è®¾è®¡å’Œæš—é»‘æ¨¡å¼ï¼š
- ä½¿ç”¨ `@layer components` å®šä¹‰å…¬å…±ç»„ä»¶æ ·å¼
- æ”¯æŒæš—é»‘æ¨¡å¼åˆ‡æ¢ (`dark:` å‰ç¼€)
- å“åº”å¼æ–­ç‚¹è®¾è®¡ (ç§»åŠ¨ç«¯ä¼˜å…ˆ)

### å­—ä½“é…ç½®
ä½¿ç”¨æ€æºé»‘ä½“ä½œä¸ºä¸»è¦å­—ä½“ï¼Œæ”¯æŒä¸­è‹±æ–‡æ˜¾ç¤ºï¼š
```css
font-family: 'Source Han Sans CN', -apple-system, BlinkMacSystemFont, ...
```

### æ„å»ºä¼˜åŒ–
- **å­—ä½“æ–‡ä»¶**: ä»…ä¿ç•™ regular æƒé‡ï¼Œå‡å°‘åŒ…ä½“ç§¯
- **ä»£ç åˆ†å‰²**: é€šè¿‡åŠ¨æ€å¯¼å…¥ä¼˜åŒ–åŠ è½½æ€§èƒ½
- **èµ„æºå‹ç¼©**: Vite è‡ªåŠ¨å¤„ç†èµ„æºä¼˜åŒ–

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨é”™è¯¯**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -i :1422
   # æˆ–æ›´æ¢ç«¯å£é…ç½®
   ```

2. **Android å¼€å‘æ¨¡å¼è¿æ¥é—®é¢˜**
   - ç¡®ä¿ Vite å¼€å‘æœåŠ¡å™¨ç›‘å¬ `0.0.0.0`
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤è®¾å¤‡ä¸å¼€å‘æœºåœ¨åŒä¸€ç½‘ç»œ

3. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   # æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
   pnpm store prune
   pnpm install
   ```

### è°ƒè¯•æŠ€å·§
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è°ƒè¯•å‰ç«¯
- æŸ¥çœ‹ Tauri æ§åˆ¶å°è¾“å‡ºè°ƒè¯•åç«¯
- ä½¿ç”¨ `console.log` è¿½è¸ªæ•°æ®æµ

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## æ›´æ–°æ—¥å¿—

### v0.1.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºæœ¬çš„æ•°æ®åŒ…æ•è·å’Œæ˜¾ç¤ºåŠŸèƒ½
- è·¨å¹³å°æ”¯æŒï¼ˆæ¡Œé¢ç«¯ + Androidï¼‰
- ç°ä»£åŒ– UI è®¾è®¡

---

## ç›¸å…³é“¾æ¥

- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/)
- [Vite å®˜æ–¹æ–‡æ¡£](https://vitejs.dev/)
